<!DOCTYPE html>
<html lang="es_ES">
    <head>
        <title>HackForFun</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta charset="UTF-8">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@300;400;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="css/style.css">
        <link rel="icon" href="icono/logo_hack4fun_H_whiteblue.ico" type="image/x-icon">
    </head>
    <body>
        <nav>
            <div id="inicio" onclick="window.location.href='../index.html';">
                <img src="icono/logo_hack4fun_bluewhite.png" alt="HackForFun Logo"/>
            </div>
            <div id="nav">
                <a href="html/aprendizaje.html">Aprendizaje</a>
                <a href="html/servicios.html">Servicios</a>
                <a href="html/precios.html">Precios</a>
                <a href="html/contacto.html">Contacto</a>
            </div>
            <div id="botones">
                <a id="empresas" href="php/register-empresas.php">Empresas</a>
                <a class="boton" href="php/register.php">Registrarse</a>
                <a class="boton" href="php/login.php">Iniciar sesión</a>
            </div>
        </nav>
        <div class="docker">
            <h3>Hack For Fun</h3>
            <p>
                En Hack For Fun, queremos que aprendas desde los concpetos más básicos en ciberseguridad, hasta los más complejos o los necesarios para aplicar por un certificado profesional.
                Enseñamos los conceptos tanto de forma teórica como de forma práctica con la ayuda de nuestros laboratorios que ejercitan los conceptos del hacking.
            </p>
        </div>
        <center>
            <h2><i>Queremos que aprendas hackeando de manera divertida</i></h2>
            <p>
                En Hack For Fun, buscamos un aprendizaje más sencillo ante la gran cantidad de información que existen en internet a dia de hoy para aprender sobre este campo.
                Queremos que los nuevos hackers aprendan desde el principio, de forma realista, como tienes que empezar dentro de este mundo y enseñar las salidas profesionales que tiene.
                <br>
                Sobre todo, queremos que tanto el informático no especializado en ciberseguridad como el informático que quieres especializarse, aprendan con nosostros a securizar los proyectos que realicen en internet.
            </p>
        </center>
        <div class="docker">
            <h3>¿Cuántos ciberátaques hay cada año?</h3>
            <p>
                En 2024, la cifra alcanzó los <b>mil intentos por segundo</b> a nivel mundial, lo que equivale a más de <b>86 millones de intentos diarios</b>.
                Las pérdidas económicas a nivel mundial se registraron en <b>10 mil millones de euros</b>.
                <br><br>
                Esta cifra no va a hacer más que subir cada año debido a que se emplea mucho más tiempo y dinero en hacking ofensivo que en hacking defensivo.
            </p>
        </div>
        <div class="features-container">
            <div class="dockers" style="margin-left: 7%;">
                <h3>Temario teórico</h3>
                <p>
                    Amplio conocimiento de conceptos básicos y complejos de la ciberseguridad abarcando todos los ámbitos.
                </p>
            </div>
            <div class="dockers">
                <h3>Preparación certificados</h3>
                <p>
                    Temario práctico y teórico para la preparación de certificados tales como eJPT, eWPT, OSCP...
                </p>
            </div>
            <div class="dockers">
                <h3>Aprendizaje práctico</h3>
                <p>
                    Laboratorios prácticos que permiten practicar los conocimientos aprendidos y mejorar el apartado práctico de la ciberseguridad.
                </p>
            </div>
        </div>
        <div id="login-popup" class="popup-backdrop">
            <div class="popup-content">
                <span class="close-btn" onclick="closeLoginPopup()">&times;</span>
                <h2>Iniciar sesión</h2>
                <form id="login-form" method="post" action="php/login.php">
                    <div id="error-message" style="color: red; display: none;"></div>
                    <label for="correo">Email o nombre de usuario:</label><br>
                    <input type="text" name="correo" id="popup-correo" required><br><br>
                    <label for="password">Contraseña:</label><br>
                    <input type="password" name="password" id="popup-password" required><br><br>
                    <input class="boton" type="submit" value="Iniciar sesión">
                </form>
            </div>
        </div>
        <div id="empresas-popup" class="popup-backdrop">
            <div class="popup-content">
                <span class="close-btn" onclick="closeEmpresasPopup()">&times;</span>
                <h2>Registro para Empresas</h2>
                <form id="empresas-form" method="post" action="php/register-empresas.php">
                    <div id="empresas-error-message" style="color: red; display: none;"></div>
                    <label for="nombreemp">Nombre de la Empresa:</label><br>
                    <input type="text" name="nombreemp" id="nombreemp" required><br><br>
                    <label for="areaprof">Área profesional:</label><br>
                    <input type="text" name="areaprof" id="areaprof" required><br><br>
                    <label for="dir">Dirección:</label><br>
                    <input type="text" name="dir" id="dir" required><br><br>
                    <label for="correo">Email:</label><br>
                    <input type="email" name="correo" id="correo" required><br><br>
                    <label for="numerotrabj">Número de trabajadores:</label><br>
                    <input type="text" name="numerotrabj" id="numerotrabj" required><br><br>
                    <input class="boton" type="submit" value="Registrarse">
                    <input class="boton" type="button" onclick="closeEmpresasPopup()" value="Cancelar">
                </form>
            </div>
        </div>
        <div id="register-popup" class="popup-backdrop">
            <div class="popup-content">
                <span class="close-btn" onclick="closeRegisterPopup()">&times;</span>
                <h2>Registro de usuario</h2>
                <form id="register-form" method="post" action="../php/register.php">
                    <div id="register-error-message" style="color: red; display: none;"></div>
                    <label for="nombre">Nombre:</label><br>
                    <input type="text" name="nombre" id="nombre" required><br><br>
                    <label for="apellidos">Apellidos:</label><br>
                    <input type="text" name="apellidos" id="apellidos" required><br><br>
                    <label for="username">Nombre de usuario:</label><br>
                    <input type="text" name="username" id="username" required><br><br>
                    <label for="correo">Email:</label><br>
                    <input type="email" name="correo" id="correo" required><br><br>
                    <label for="password">Contraseña:</label><br>
                    <input type="password" name="password" id="password" required><br><br>
                    <label for="passwordcheck">Repetir Contraseña:</label><br>
                    <input type="password" name="passwordcheck" id="passwordcheck" required><br><br>
                    <input class="boton" type="submit" value="Registrarse">
                    <input class="boton" type="button" onclick="closeRegisterPopup()" value="Cancelar">
                </form>
            </div>
        </div>
        <footer>
            <div>
                <div id="logo" onclick="window.location.href='../index.html';">
                    <img src="../icono/logo_hack4fun_bluewhite.png" alt="HackForFun Logo"/>
                </div>
            </div>
            <div id="menu-footer">
                <h3><a href="html/aprendizaje.html">Aprendizaje</a></h3><br>
                <h3><a href="html/servicios.html">Servicios</a></h3><br>
                <h3><a href="html/precios.html">Precios</a></h3><br>
                <h3><a href="html/contacto.html">Contacto</a></h3><br>
            </div>
            <div id="info-footer">
                <h3 style="text-transform: uppercase;"><a href="legalidad/PrivacidadYDatos.html">Política de Privacidad y Datos</a></h3><br>
                <h3 style="text-transform: uppercase;"><a href="legalidad/TerminosYCondiciones.html">Términos y condiciones</a></h3><br>
                <h3>HackForFun S.L.</h3>
                <h4>Calle Francisco Bores, 3</h4>
                <h4>Trabajo Final de Grado Superior de ASIR</h4>
                <h4>IES Calderón de la Barca, Pinto</h4>
            </div>
        </footer>
        <script>
            // Función genérica para abrir popups
            function openPopup(e, popupId) {
                e.preventDefault();
                document.getElementById(popupId).style.display = 'block';
                document.body.classList.add('popup-open');
            }
        
            // Funciones específicas para cada popup
            function openLoginPopup(e) { openPopup(e, 'login-popup'); }
            function openEmpresasPopup(e) { openPopup(e, 'empresas-popup'); }
            function openRegisterPopup(e) { openPopup(e, 'register-popup'); }
        
            // Función genérica para cerrar popups
            function closePopup(popupId) {
                document.getElementById(popupId).style.display = 'none';
                document.body.classList.remove('popup-open');
            }
        
            // Funciones específicas para cada popup
            function closeLoginPopup() { closePopup('login-popup'); }
            function closeEmpresasPopup() { closePopup('empresas-popup'); }
            function closeRegisterPopup() { closePopup('register-popup'); }
        
            // Asignar eventos al cargar la página
            document.addEventListener('DOMContentLoaded', function() {
                // Botón de login
                document.querySelector('a.boton[href="php/login.php"]')?.addEventListener('click', openLoginPopup);
                
                // Enlace de Empresas
                document.querySelector('a#empresas[href="php/register-empresas.php"]')?.addEventListener('click', openEmpresasPopup);
                
                // Botón de Registro
                document.querySelector('a.boton[href="php/register.php"]')?.addEventListener('click', openRegisterPopup);
        
                // Cerrar al hacer clic fuera del contenido (para los 3 popups)
                document.getElementById('login-popup')?.addEventListener('click', function(e) {
                    if (e.target === this) closeLoginPopup();
                });
        
                document.getElementById('empresas-popup')?.addEventListener('click', function(e) {
                    if (e.target === this) closeEmpresasPopup();
                });
        
                document.getElementById('register-popup')?.addEventListener('click', function(e) {
                    if (e.target === this) closeRegisterPopup();
                });
        
                // Manejar envío de formularios con AJAX
                document.getElementById('login-form')?.addEventListener('submit', handleLoginSubmit);
                document.getElementById('empresas-form')?.addEventListener('submit', handleRegisterSubmit);
                document.getElementById('register-form')?.addEventListener('submit', handleRegisterSubmit);
                
                // Ajustar posición de popups
                adjustPopupPosition();
            });
            
            // Función para ajustar posición de popups
            function adjustPopupPosition() {
                const popups = document.querySelectorAll('.popup-content');
                popups.forEach(popup => {
                    popup.style.top = '50%';
                    popup.style.left = '50%';
                    popup.style.transform = 'translate(-50%, -50%)';
                });
            }

            // Llamada inicial y en resize
            window.addEventListener('load', adjustPopupPosition);
            window.addEventListener('resize', adjustPopupPosition);

            // Función específica para manejar login
            function handleLoginSubmit(e) {
                e.preventDefault();
                const form = e.target;
                const errorElement = form.querySelector('#error-message');
                
                fetch(form.action, {
                    method: 'POST',
                    body: new FormData(form)
                })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        if (data.redirect) {
                            window.location.href = data.redirect;
                        }
                    } else {
                        errorElement.textContent = data.error || 'Error desconocido';
                        errorElement.style.display = 'block';
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    errorElement.textContent = 'Error al procesar la solicitud';
                    errorElement.style.display = 'block';
                });
            }

            // Función genérica para manejar registros
            function handleRegisterSubmit(e) {
                e.preventDefault();
                const form = e.target;
                const errorElement = form.querySelector('[id$="-error-message"]');
                
                fetch(form.action, {
                    method: 'POST',
                    body: new FormData(form)
                })
                .then(response => response.json())
                .then(data => {
                    if (data.success) {
                        if (data.message) {
                            alert(data.message);
                        }
                        
                        if (data.redirect) {
                            window.location.href = data.redirect;
                        }
                    } else {
                        errorElement.textContent = data.error || 'Error desconocido';
                        errorElement.style.display = 'block';
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                    errorElement.textContent = 'Error al procesar la solicitud';
                    errorElement.style.display = 'block';
                });
            }
        </script>
    </body>
</html>
